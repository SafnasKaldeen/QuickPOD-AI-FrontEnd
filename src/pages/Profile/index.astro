---
const query = Astro.params.query;

import GreetingTitle from "../../components/GreetingTitle.svelte";
import PageHeader from "../../components/PageHeader.astro";
import PlaylistCard from "../../components/PlaylistCard.astro";
import PlaylistItemCard from "../../components/PlaylistItemCard.astro";
import Layout from "../../layouts/Layout.astro";
import { playlists, morePlaylists } from "../../lib/data";
import AvatarCard from "../../components/AvatarCard.astro";
import ProfileForm from "../../components/ProfileForm.astro";
import Details from "../../components/Details.astro";
---

<div class="relative h-screen gap-2 flex items-stretch">
  <div class="w-[350px] flex-col hidden lg:flex overflow-y-auto">
    <div class="flex flex-col flex-1 gap-2">
      <div class="bg-zinc-900 rounded-lg py-2">
        <AvatarCard />
      </div>
      <div class="w-full">
        <div class="card bg-zinc-900 shadow rounded-lg mb-4">
          <Details />
        </div>
      </div>
    </div>
  </div>
  <div class="rounded-lg bg-zinc-900 flex-1 overflow-y-auto">
    <Layout title="Home">
      <div
        id="playlist-container"
        class="relative transition-all duration-1000 bg-context"
        style="min-height:300px;--context-color:#34495E ;"
      >
        <PageHeader />
        <div class="relative z-10 px-6">
          <span>
            <GreetingTitle client:visible />
          </span>
          <div class="w-full lg:w-2/3 px-4 m-2">
            This place is researved for interest selection
          </div>
        </div>
        <div
          class="grid gap-y-4 gap-x-6 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 mt-6"
        >
        </div>
      </div>
      <div
        class="absolute inset-0 bg-gradient-to-t from-zinc-900 via-zinc-900/80"
      >
      </div>

      <div class="px-6 relative z-10 mt-4">
        <!-- <h2 class="text-2xl font-bold">Podcasts selected For you</h2> -->
        <div class="flex flex-wrap mt-6 gap-4">
          <!-- {morePlaylists.map((song) => <PlaylistCard song={song} />)} -->
          <ProfileForm />
        </div>
      </div>
    </Layout>
  </div>
</div>

<div
  id="not-support"
  class="fixed hidden bg-red-700 bottom-0 inset-x-0 rounded-t-md text-center py-2 lg:py-4 z-50 font-semibold"
>
  It seems your browser does not support view transitions yet :( try it using
  chrome or edge <a
    class="underline"
    href="https://github.com/igorm84/spotify-astro-transitions"
    >(see docs here)</a
  >
</div>
<script is:inline defer>
  function setContainerColor(dataColor) {
    const playlistContainer = document.getElementById("playlist-container");
    const currentColor = playlistContainer?.getAttribute("data-color");
    if (dataColor && dataColor !== currentColor) {
      playlistContainer?.style.setProperty("--context-color", dataColor);
      playlistContainer?.setAttribute("data-color", dataColor);
    }
  }

  window.coloradTimeout = null;
  for (const playlist of document.querySelectorAll(".playlist-item")) {
    playlist.addEventListener("mouseover", () => onMouseOverColorad(playlist));
    playlist.addEventListener("mouseout", onMouseOutColorad);
    playlist.addEventListener("focus", () => onMouseFocusColorad(playlist));
    playlist.addEventListener("blur", onMouseOutColorad);
  }

  function onMouseFocusColorad(el) {
    if (el) {
      const dataColor = el.getAttribute("data-color");
      if (!dataColor) return;
      setContainerColor(dataColor);
    }
  }
  function onMouseOverColorad(el) {
    if (el) {
      const dataColor = el.getAttribute("data-color");
      if (!dataColor) return;
      window.coloradTimeout = setTimeout(
        () => setContainerColor(dataColor),
        200
      );
    }
  }
  function onMouseOutColorad() {
    if (window.coloradTimeout) {
      clearTimeout(window.coloradTimeout);
      window.coloradTimeout = null;
    }
  }
  if (!document.startViewTransition) {
    document.getElementById("not-support").classList.remove("hidden");
  }
  document.addEventListener("astro:page-load", () => {
    for (const el of document.querySelectorAll(".el-to-fade")) {
      el.classList.remove("scale-90");
    }
  });
</script>

<!-- 

<head>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-zinc-500">
        <div class="main-body">
            <div class="flex flex-wrap -mx-2">
                <div class="w-full md:w-1/3 p-2 mb-4">
                    <div class="card bg-white shadow rounded-lg">
                        <div class="card-body p-4">
                            <div class="flex flex-col items-center text-center">
                                <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-full w-36 h-36">
                                <div class="mt-3">
                                    <h4>John Doe</h4>
                                    <p class="text-gray-500 mb-1">Full Stack Developer</p>
                                    <p class="text-gray-400 text-sm">Bay Area, San Francisco, CA</p>
                                    <button class="btn btn-primary bg-blue-500 text-white px-4 py-2 rounded">Follow</button>
                                    <button class="btn btn-outline-primary border border-blue-500 text-blue-500 px-4 py-2 rounded mt-2">Message</button>
                                </div>
                            </div>
                        </div>
                    </div> -->
<!-- <div class="card bg-white shadow rounded-lg mt-4">
                        <ul class="list-group divide-y divide-gray-200">
                            
                            <li class="list-group-item flex justify-between items-center p-4">
                                <h6 class="mb-0 flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github mr-2"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>Github</h6>
                                <span class="text-gray-500">bootdey</span>
                            </li>
          
                        </ul>
                    </div> -->
<!-- </div>
                <div class="w-full md:w-2/3 px-2">
                    <div class="card bg-white shadow rounded-lg mb-4">
                        <div class="card-body p-4">
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Full Name</h6>
                                </div>
                                <div class="col-sm-9 text-gray-500">
                                    Kenneth Valdez
                                </div>
                            </div>
                            <hr class="my-2">
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Email</h6>
                                </div>
                                <div class="col-sm-9 text-gray-500">
                                    <a href="/cdn-cgi/l/email-protection" class="__cf_email__ text-blue-500">[email&#160;protected]</a>
                                </div>
                            </div>
                            <hr class="my-2">
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Phone</h6>
                                </div>
                                <div class="col-sm-9 text-gray-500">
                                    (239) 816-9029
                                </div>
                            </div>
                            <hr class="my-2">
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Mobile</h6>
                                </div>
                                <div class="col-sm-9 text-gray-500">
                                    (320) 380-4539
                                </div>
                            </div>
                            <hr class="my-2">
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Address</h6>
                                </div>
                                <div class="col-sm-9 text-gray-500">
                                    Bay Area, San Francisco, CA
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card bg-white shadow rounded-lg">
                        <div class="card-body p-4">
                            <h6>Projects Status</h6>
                            <div class="row flex-wrap">
                                <div class="w-full md:w-1/2 px-2">
                                    <h6 class="text-gray-500">Web Design</h6>
                                    <div class="w-full bg-gray-300 rounded h-1 mb-2">
                                        <div class="bg-blue-500 h-1 rounded" style="width: 80%;"></div>
                                    </div>
                                </div>
                                <div class="w-full md:w-1/2 px-2">
                                    <h6 class="text-gray-500">Website Markup</h6>
                                    <div class="w-full bg-gray-300 rounded h-1 mb-2">
                                        <div class="bg-blue-500 h-1 rounded" style="width: 72%;"></div>
                                    </div>
                                </div>
                                <div class="w-full md:w-1/2 px-2">
                                    <h6 class="text-gray-500">One Page</h6>
                                    <div class="w-full bg-gray-300 rounded h-1 mb-2">
                                        <div class="bg-blue-500 h-1 rounded" style="width: 89%;"></div>
                                    </div>
                                </div>
                                <div class="w-full md:w-1/2 px-2">
                                    <h6 class="text-gray-500">Mobile Template</h6>
                                    <div class="w-full bg-gray-300 rounded h-1 mb-2">
                                        <div class="bg-blue-500 h-1 rounded" style="width: 55%;"></div>
                                    </div>
                                </div>
                                <div class="w-full md:w-1/2 px-2">
                                    <h6 class="text-gray-500">Backend API</h6>
                                    <div class="w-full bg-gray-300 rounded h-1 mb-2">
                                        <div class="bg-blue-500 h-1 rounded" style="width: 66%;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-sm-12">
                                    <a class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600" href="javascript:void(0)">Show More</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body> -->
