---
const { id } = Astro.params;

import Layout from "../../layouts/Layout.astro";
import SideMenu from "../../components/Side/SideMenu.astro";
import PageHeader from "../../components/PageHeader.astro";
import InlineArtists from "../../components/InlineArtists.astro";
import LikeButton from "../../components/LikeButton.astro";
import AudioPlayer from "../../components/Player/AudioPlayer.jsx";
import Transcript from "../../components/Transcript.astro";
import BlogButton from "../../components/BlogButton.astro";
import Blog from "../../components/Blog";
import Markup from "../../components/markup.jsx";
interface Song {
  blog: {
    markdown: string;
    title: string;
    blog_img_url: string;
  };
  podcast: {
    audio_url: string;
    thumbnail_url: string;
    transcript: {
      title: string;
      content: string;
    };
  };
  keywords: string[];
  type: string;
  id: number;
}

const Blog = `# Overview of Sri Lankan Cricket

## Introduction

Sri Lankan cricket is a rich tapestry of talent, passion, and historical significance. From its inception influenced by British colonialism to its rise as a powerhouse in international cricket, Sri Lanka's cricketing journey is marked by triumphs, challenges, and enduring legacy.

## Key Aspects of Sri Lankan Cricket

### 1. Historical Significance

- _Founding Years:_ Sri Lanka's cricketing roots date back to the late 19th century when the sport was introduced by the British. It quickly gained popularity among the local elite and spread across the island.
- _Test Status:_ Sri Lanka gained Test status in 1981, a significant milestone in its cricketing history. Since then, Sri Lanka has become a formidable competitor in international cricket.

### 2. Achievements and Milestones

- _1996 World Cup Victory:_ Sri Lanka's crowning achievement came in 1996 when they clinched the ICC Cricket World Cup under the captaincy of Arjuna Ranatunga. This victory brought glory to the nation and put Sri Lankan cricket on the global map.
- _Legendary Players:_ Sri Lanka has produced legendary cricketers who have left an indelible mark on the sport. Players like Sanath Jayasuriya, Muttiah Muralitharan, Kumar Sangakkara, and Mahela Jayawardene are celebrated for their skill and contributions to the game.
- _World Record Holder:_ Muttiah Muralitharan, Sri Lanka's spin wizard, holds the world record for the most wickets in both Test and One-Day International cricket, showcasing Sri Lanka's prowess in bowling talent.

### 3. Talent Development and Domestic Structure

- _Domestic Competitions:_ Sri Lanka Cricket (SLC) oversees a robust domestic cricket structure comprising first-class tournaments, limited-overs competitions, and age-group leagues. This setup provides a fertile ground for nurturing young talent.
- _Emerging Stars:_ Sri Lanka consistently produces promising cricketers who transition from domestic success to international stardom. Lasith Malinga, Angelo Mathews, Dinesh Chandimal, and Dimuth Karunaratne are recent examples of emerging talents.

### 4. Challenges and Considerations

#### Sustainability and Development

Maintaining consistent performance and developing infrastructure are ongoing challenges for Sri Lankan cricket. Investments in coaching, facilities, and grassroots development are crucial for sustaining competitiveness.

#### Fan Engagement and Support

Cricket holds a special place in Sri Lankan culture, with passionate fans supporting their team fervently through victories and setbacks. Enhancing fan engagement, stadium experiences, and grassroots participation is vital for fostering a robust cricketing culture.

### 5. International Tournaments and Series

- _Asia Cup Success:_ Sri Lanka has enjoyed success in the Asia Cup, winning multiple titles and showcasing their dominance in the region.
- _Series Triumphs:_ Sri Lanka has defeated top cricketing nations in memorable Test and ODI series, demonstrating their ability to compete at the highest level of international cricket.

### 6. Contributions to World Cricket

- _Innovative Batting Styles:_ Sri Lankan batsmen are known for their innovative stroke play and adaptability to different conditions, influencing modern batting techniques.
- _Spin Bowling Legacy:_ Sri Lanka's mastery in spin bowling, epitomized by Muralitharan and others, has shaped strategies and tactics in international cricket.

### 7. Future Outlook

Sri Lankan cricket faces the challenge of preserving its rich cricketing heritage while adapting to modern trends and global competition. Strategic planning, youth development programs, and embracing technological advancements will be pivotal in shaping its future trajectory.

# Conclusion

Sri Lankan cricket continues to captivate audiences worldwide with its flair, resilience, and deep-rooted passion. As it navigates the complexities of modern cricket, Sri Lanka remains committed to upholding its legacy and achieving new milestones on the global stage.

## Sources

1. [History of Sri Lankan Cricket](https://example.com/sri-lanka-cricket-history)
2. [Sri Lanka's Impact on World Cricket](https://example.com/sri-lanka-cricket-impact)
3. [Challenges in Sri Lankan Cricket](https://example.com/sri-lanka-cricket-challenges)
4. [Future Trends in Sri Lankan Cricket](https://example.com/sri-lanka-cricket-future)
5. [Role of Domestic Cricket in Sri Lanka](https://example.com/sri-lanka-domestic-cricket)
`;

export const allPlaylists: Song[] = [
  {
    blog: {
      markdown:
        "# The Rise of AI\nArtificial Intelligence is transforming industries...",
      title: "The Rise of AI",
      blog_img_url:
        "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    },
    podcast: {
      audio_url: "https://www.sample-videos.com/audio/mp3/crowd-cheering.mp3",
      thumbnail_url:
        "https://images.unsplash.com/photo-1580927752452-5d1b75d4e0d7",
      transcript: {
        title: "AI Podcast Episode 1",
        content:
          "Welcome to our podcast on AI. Today we discuss the impact of artificial intelligence on various industries...",
      },
    },
    keywords: ["AI", "technology", "future"],
    type: "technology",
    id: 1,
  },
  {
    blog: {
      markdown:
        "# Healthy Eating\nHealthy eating is essential for maintaining good health...",
      title: "Healthy Eating",
      blog_img_url: "https://images.unsplash.com/photo-1556911220-e15b30d91438",
    },
    podcast: {
      audio_url: "https://www.sample-videos.com/audio/mp3/wave.mp3",
      thumbnail_url:
        "https://images.unsplash.com/photo-1574672282324-e142b5f11f43",
      transcript: {
        title: "Healthy Eating Podcast",
        content:
          "In today's episode, we talk about the benefits of healthy eating and how to incorporate it into your daily routine...",
      },
    },
    keywords: ["health", "nutrition", "wellness"],
    type: "health",
    id: 2,
  },
  {
    blog: {
      markdown:
        "# The Rise of AI\nArtificial Intelligence is transforming industries...",
      title: "The Rise of AI",
      blog_img_url:
        "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    },
    podcast: {
      audio_url: "https://www.sample-videos.com/audio/mp3/crowd-cheering.mp3",
      thumbnail_url:
        "https://images.unsplash.com/photo-1580927752452-5d1b75d4e0d7",
      transcript: {
        title: "AI Podcast Episode 1",
        content:
          "Welcome to our podcast on AI. Today we discuss the impact of artificial intelligence on various industries...",
      },
    },
    keywords: ["AI", "technology", "future"],
    type: "technology",
    id: 3,
  },
  {
    blog: {
      markdown:
        "# Healthy Eating\nHealthy eating is essential for maintaining good health...",
      title: "Healthy Eating",
      blog_img_url: "https://images.unsplash.com/photo-1556911220-e15b30d91438",
    },
    podcast: {
      audio_url: "https://www.sample-videos.com/audio/mp3/wave.mp3",
      thumbnail_url:
        "https://images.unsplash.com/photo-1574672282324-e142b5f11f43",
      transcript: {
        title: "Healthy Eating Podcast",
        content:
          "In today's episode, we talk about the benefits of healthy eating and how to incorporate it into your daily routine...",
      },
    },
    keywords: ["health", "nutrition", "wellness"],
    type: "health",
    id: 4,
  },
  {
    blog: {
      markdown:
        "# The Rise of AI\nArtificial Intelligence is transforming industries...",
      title: "The Rise of AI",
      blog_img_url:
        "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    },
    podcast: {
      audio_url: "https://www.sample-videos.com/audio/mp3/crowd-cheering.mp3",
      thumbnail_url:
        "https://images.unsplash.com/photo-1580927752452-5d1b75d4e0d7",
      transcript: {
        title: "AI Podcast Episode 1",
        content:
          "Welcome to our podcast on AI. Today we discuss the impact of artificial intelligence on various industries...",
      },
    },
    keywords: ["AI", "technology", "future"],
    type: "technology",
    id: 5,
  },
  {
    blog: {
      markdown:
        "# Healthy Eating\nHealthy eating is essential for maintaining good health...",
      title: "Healthy Eating",
      blog_img_url: "https://images.unsplash.com/photo-1556911220-e15b30d91438",
    },
    podcast: {
      audio_url: "https://www.sample-videos.com/audio/mp3/wave.mp3",
      thumbnail_url:
        "https://images.unsplash.com/photo-1574672282324-e142b5f11f43",
      transcript: {
        title: "Healthy Eating Podcast",
        content:
          "In today's episode, we talk about the benefits of healthy eating and how to incorporate it into your daily routine...",
      },
    },
    keywords: ["health", "nutrition", "wellness"],
    type: "health",
    id: 6,
  },
  {
    blog: {
      markdown:
        "# The Rise of AI\nArtificial Intelligence is transforming industries...",
      title: "The Rise of AI",
      blog_img_url:
        "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    },
    podcast: {
      audio_url: "https://www.sample-videos.com/audio/mp3/crowd-cheering.mp3",
      thumbnail_url:
        "https://images.unsplash.com/photo-1580927752452-5d1b75d4e0d7",
      transcript: {
        title: "AI Podcast Episode 1",
        content:
          "Welcome to our podcast on AI. Today we discuss the impact of artificial intelligence on various industries...",
      },
    },
    keywords: ["AI", "technology", "future"],
    type: "technology",
    id: 7,
  },
  {
    blog: {
      markdown:
        "# Healthy Eating\nHealthy eating is essential for maintaining good health...",
      title: "Healthy Eating",
      blog_img_url: "https://images.unsplash.com/photo-1556911220-e15b30d91438",
    },
    podcast: {
      audio_url: "https://www.sample-videos.com/audio/mp3/wave.mp3",
      thumbnail_url:
        "https://images.unsplash.com/photo-1574672282324-e142b5f11f43",
      transcript: {
        title: "Healthy Eating Podcast",
        content:
          "In today's episode, we talk about the benefits of healthy eating and how to incorporate it into your daily routine...",
      },
    },
    keywords: ["health", "nutrition", "wellness"],
    type: "health",
    id: 8,
  },
];

export function getStaticPaths() {
  return allPlaylists.map((playlist) => ({
    params: {
      id: playlist.id,
    },
  }));
}

const POD = allPlaylists.find((playlist) => playlist.id == id);
---

<script>
  import Cookies from "js-cookie";

  const token = Cookies.get("access_token");

  if (!token) {
    alert("Unauthorized access. Redirecting to login page.");
    location.href = "/Login";
  } else {
    console.log("Token exists");
    // alert(token);
  }
</script>


<div class="">
<Layout name="Player Page">
  <div class="relative h-screen gap-2 flex items-stretch">
    <div class="w-[350px] flex-col hidden lg:flex overflow-y-auto">
      <SideMenu client:load />
    </div>
    
    
    

    <div class="rounded-lg bg-zinc-900 flex-1 mx-auto overflow-y-auto" id="POD">
      <Layout title="Home">
        <!-- <Blog client:load /> -->
         <div class="">
        <Layout image={POD?.podcast.thumbnail_url} title={POD?.blog.title || "404"}>
          <div
            class="relative bg-zinc-900 min-h-full flex flex-col overflow-x-hidden rounded-lg"
            transition:name={`playlist ${POD?.id} box`}
          >
            <PageHeader />
            <div
              class="flex flex-col items-center md:flex-row md:items-stretch gap-8 px-6"
            >
              <div class="h-52 w-52 flex-none">
                <img
                  src={POD?.podcast.thumbnail_url}
                  alt={POD?.blog.title}
                  class="object-cover h-full w-full shadow-[5px_0_30px_0px_rgba(0,0,0,0.3)]"
                  transition:name={`playlist ${POD?.id} image`}
                />
              </div>
              <div class="flex flex-col justify-between">
                <div>
                  <h1 class="title-clamp font-bold block text-4xl text-white">
                    {POD?.blog.title}
                    <span transition:name={`playlist ${POD?.id} title`}></span>
                  </h1>
                </div>
                <div class="flex-1 flex items-end">
                  <div class="text-sm">
                    <div class="relative space-y-8 py-3 px-3">
                      <div>
                        <!-- <h2 class="text-3xl font-bold text-gray-800 dark:text-gray-100">
                          {Markdown}
                        </h2> -->
                        <a
                          class="text-xl font-semibold text-gray-700 dark:text-blue-400 transition flex items-center gap-1 relative group font-semibold hover:cursor-pointer"
                          id = "blog-button"
                          >
                          <p
                            class="text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-blue-500 hover:text-green-500"
                          >
                            <span>Click to Read the Blog</span>
                            <span
                              class="transition transform group-hover:translate-x-1 group-hover:ml-2"
                              >-&gt;</span
                            >
                          </p>
                        </a>
                      </div>
                    </div>
                    
                  </div>
                </div>
              </div>
            </div>

            <div class="bg-zinc-900/30 mt-6 flex-1 p-6 blur-100">
              <div class="px-6 pt-4">
                <main
                  class="flex min-h-screen flex-col items-center gap-20 py-20 px-4 md:px-24 md:py-24"
                >
                  <div class="flex flex-col gap-4">
                    <AudioPlayer
                      title={POD?.podcast.transcript.title}
                      src="https://parse-server-ff.s3.amazonaws.com/ae5992f0f5bb1f259bafa41b3771e3bb_call12565815456dwwwwww795896232www-01b59bd3.mp3"
                      client:visible
                    />
                  </div>
                  <Transcript Transcript={POD?.podcast.transcript.content} />
                </main>
              </div>
            </div>
            <div
              class="absolute h-screen inset-0 z-[-1] bg-gradient-to-b from-context"
              style={`--context-color:${POD?.blog.title}`}
            >
              <img
                src={POD?.blog.blog_img_url}
                alt={POD?.blog.title}
                class="el-to-fade transition-all duration-500 z-[-1] absolute inset-0 mix-blend-overlay opacity-20 scale-90 w-full h-full object-cover blur-md"
              />
              <div
                class="absolute inset-0 bg-gradient-to-t via-transparent from-zinc-900"
              >
              </div>
            </div>
          </div>
        </Layout>
      </Layout>
    </div>



    

    <div class="rounded-lg bg-zinc-900 flex-1 mx-auto overflow-y-auto hidden" id ="BLG">
      <Layout title="Home">
        <div id="playlist-container" class="relative transition-all duration-1000 bg-context h-1/2 bg" style={`background-image: url('${POD?.blog.blog_img_url}'); background-size: cover; background-position: center;`}>
          <PageHeader />
          <div class="relative z-10 px-6">
            <span>
              <h1 class="text-5xl font-bold sm:text-6xl">
                {POD?.blog.title ? POD.blog.title : 'Default Title'}
              </h1>
              <a
              class="text-xl font-semibold text-gray-700 dark:text-blue-400 transition flex items-center gap-1 relative group font-semibold hover:cursor-pointer mt-8"
              id = "audio-button"
              >
              <p
                class="text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-blue-500 hover:text-green-500"
              >
                <span>Click to Listen Podcast</span>
                <span
                  class="transition transform group-hover:translate-x-1 group-hover:ml-2"
                  >-&gt;</span
                >
              </p>
            </a>
            </span>
            <div
              class="grid gap-y-4 gap-x-6 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 mt-6"
            >
            </div>
          </div>
          <div
            class="absolute inset-0 bg-gradient-to-t from-zinc-900 via-zinc-900/80"
          >
          </div>
        </div>
        <div class="px-6 relative z-10 mt-4">
          <div class="flex flex-wrap mt-6 gap-4">
            <Markup client:load markdownContent={POD?.blog.markdown} />
          </div>
        </div>
      </Layout>
    </div>
    

    <div
      id="not-support"
      class="fixed hidden bg-red-700 bottom-0 inset-x-0 rounded-t-md text-center py-2 lg:py-4 z-50 font-semibold"
    >
      It seems your browser does not support view transitions yet :( try it
      using chrome or edge <a
        class="underline"
        href="https://github.com/igorm84/spotify-astro-transitions"
        >(see docs here)</a
      >
    </div>
  </div>
</Layout>
</div>

<script>
  document.getElementById("blog-button").addEventListener("click", function() {
    BLG.classList.remove("hidden");
    POD.classList.add("hidden");
  });
  document.getElementById("audio-button").addEventListener("click", function() {
    POD.classList.remove("hidden");
    BLG.classList.add("hidden");
  });

